{"version":3,"sources":["apiUrl.js","App.js","index.js"],"names":["apiUrl","App","_useState","useState","_useState2","Object","slicedToArray","data","setData","_useState3","_useState4","input","setInput","useEffect","fetchData","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","dataRes","wrap","_context","prev","next","fetch","concat","sent","json","stop","apply","this","arguments","addTask","_ref2","_callee2","_data","_context2","abrupt","title","method","headers","Accept","Content-Type","body","JSON","stringify","then","response","deleteTask","_ref3","_callee3","id","_context3","postId","_x","react_default","createElement","className","value","onChange","e","target","placeholder","type","onClick","map","item","key","rendered","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.1ce48ab1.chunk.js","sourcesContent":["export const apiUrl = \"http://project.test/\";\n","import React, { useState, useEffect } from \"react\";\nimport { apiUrl } from \"./apiUrl\";\n\n//const wpApiTodo = window.wpApiTodo;\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [input, setInput] = useState(\"\");\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    const dataRes = await fetch(`${apiUrl}/wp-json/wp/v2/task`);\n    const data = await dataRes.json();\n    setData(data);\n    //console.log(wpApiTodo);\n  };\n\n  const addTask = async () => {\n    if (input === \"\") {\n      return;\n    } else {\n      const data = { title: input };\n      await fetch(`${apiUrl}/wp-json/aris/v1/task`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      })\n        .then(response => {\n          return response.json();\n        })\n        .then(data => {\n          setData(data);\n          setInput(\"\");\n        });\n    }\n  };\n\n  const deleteTask = async id => {\n    const data = { postId: id };\n    await fetch(`${apiUrl}/wp-json/aris/v1/deleteTask`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    })\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        setData(data);\n        setInput(\"\");\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"input-box\">\n        <input\n          value={input}\n          onChange={e => setInput(e.target.value)}\n          placeholder=\"add new task\"\n          type=\"text\"\n        />\n        <button className=\"submit\" onClick={addTask}>\n          add task\n        </button>\n      </div>\n\n      {data &&\n        data.map(item => {\n          return (\n            <li key={item.id} className=\"list-item\">\n              {item.title.rendered}{\" \"}\n              <button onClick={() => deleteTask(item.id)} className=\"submit\">\n                x\n              </button>\n            </li>\n          );\n        })}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}