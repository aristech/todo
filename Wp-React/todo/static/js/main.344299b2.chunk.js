(window["webpackJsonptodo-app"]=window["webpackJsonptodo-app"]||[]).push([[0],{110:function(e,t,n){e.exports=n(262)},115:function(e,t,n){},219:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),i=n.n(o),s=(n(115),n(14)),c=n(9),l=n.n(c),d=n(32),u=n(96),p=n(97),m=n(106),f=n(98),h=n(107),g=n(13),b=n(29),v=n(31),k=n(99),E=function(e){var t=e.fill;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5.903",height:"6.747",viewBox:"0 0 5.903 6.747"},r.a.createElement("path",{id:"calendar-regular",d:"M5.271.843H4.638V.158A.159.159,0,0,0,4.48,0H3.953a.159.159,0,0,0-.158.158V.843H2.108V.158A.159.159,0,0,0,1.95,0H1.423a.159.159,0,0,0-.158.158V.843H.632A.633.633,0,0,0,0,1.476V6.114a.633.633,0,0,0,.632.633H5.271A.633.633,0,0,0,5.9,6.114V1.476A.633.633,0,0,0,5.271.843ZM5.192,6.114H.712a.079.079,0,0,1-.079-.079V2.108H5.271V6.035A.079.079,0,0,1,5.192,6.114Z",fill:t}))},x=function(e){var t=e.fill,n=e.stroke;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11.807",height:"11.807",viewBox:"0 0 11.807 11.807"},r.a.createElement("g",{id:"Ellipse_1","data-name":"Ellipse 1",fill:t,stroke:n,strokeWidth:"1"},r.a.createElement("circle",{id:"c1",cx:"5.903",cy:"5.903",r:"5.903",stroke:"none"}),r.a.createElement("circle",{id:"c2",cx:"5.903",cy:"5.903",r:"5.403",fill:"none"})))};n(219);function y(){var e=Object(b.a)(["\n  &:before {\n    background-color: ",";\n  }\n  &:hover {\n  }\n"]);return y=function(){return e},e}var O=function(e){var t=e.date,n=e.title,a=e.index,o=e.description,i=e.bgColor,s=e.setTask,c=e.setOpen,l=e.id;e.column;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{draggableId:l,index:a},function(e,a){return r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),r.a.createElement(w,{className:"task",bgColor:i,onClick:function(){c(!0),s(l,n,o)}},r.a.createElement("div",{className:"task-header"},r.a.createElement("span",{className:"date"},Object(k.format)(t,"DD-MM-YYYY")),r.a.createElement("span",{className:"icon"},r.a.createElement(E,{fill:"#c7c7c7"}))),r.a.createElement("div",{className:"task-body"},r.a.createElement("div",{className:"title"},r.a.createElement("span",{className:"icon"},r.a.createElement(x,{fill:"#fff",stroke:"#c7c7c7"})),r.a.createElement("span",{className:"text"},n)),r.a.createElement("div",{className:"description"},o))))}))},w=v.a.div(y(),function(e){return e.bgColor}),j=(n(260),function(e){var t=e.fill;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"55.685",height:"46.988",viewBox:"0 0 55.685 46.988"},r.a.createElement("path",{id:"tasks-solid",d:"M15.184,32.354a1.305,1.305,0,0,0-1.849,0L6.41,39.24,3.941,36.834a1.305,1.305,0,0,0-1.849,0L.384,38.544a1.305,1.305,0,0,0,0,1.849L5.56,45.548a1.39,1.39,0,0,0,1.915,0l1.7-1.7L17.024,36a1.315,1.315,0,0,0,.01-1.849Zm0,17.314a1.305,1.305,0,0,0-1.849,0L6.41,56.6l-2.469-2.4a1.305,1.305,0,0,0-1.849,0L.384,55.9a1.305,1.305,0,0,0,0,1.849l5.163,5.166a1.389,1.389,0,0,0,1.914,0L9.169,61.21l7.852-7.855a1.305,1.305,0,0,0,.01-1.838ZM6.961,68.517a5.221,5.221,0,1,0,0,10.441,5.22,5.22,0,1,0,0-10.441Zm46.984,1.74H22.623A1.74,1.74,0,0,0,20.882,72v3.48a1.74,1.74,0,0,0,1.74,1.74H53.945a1.74,1.74,0,0,0,1.74-1.74V72A1.74,1.74,0,0,0,53.945,70.257Zm0-34.8H22.623a1.74,1.74,0,0,0-1.74,1.74v3.48a1.74,1.74,0,0,0,1.74,1.74H53.945a1.74,1.74,0,0,0,1.74-1.74v-3.48A1.74,1.74,0,0,0,53.945,35.454Zm0,17.4H22.623a1.74,1.74,0,0,0-1.74,1.74v3.48a1.74,1.74,0,0,0,1.74,1.74H53.945a1.74,1.74,0,0,0,1.74-1.74V54.6A1.74,1.74,0,0,0,53.945,52.856Z",transform:"translate(-0.001 -31.971)",fill:t}))});function C(){var e=Object(b.a)(["\n  background-color: ",";\n"]);return C=function(){return e},e}var N=function(e){var t=e.title,n=e.bgColor,a=e.setTask,o=e.setOpen,i=e.column,s=e.tasks;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"board"},r.a.createElement(A,{bgColor:n,className:"board-header"},r.a.createElement("h1",null,t)),r.a.createElement(g.c,{droppableId:i},function(e,t){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),r.a.createElement("div",{className:"board-body"},r.a.createElement("div",{className:"tasks"},s.length<1?r.a.createElement("div",{className:"no-tasks"},r.a.createElement(j,{fill:"#F5F5F5"}),r.a.createElement("h3",null,"No tasks for this board")):s.map(function(e,t){return r.a.createElement(O,{column:i,key:e.id,id:e.id,index:t,setOpen:o,setTask:a,bgColor:n,date:e.date,description:e.content,title:e.title})}))),e.placeholder)})))},A=v.a.div(C(),function(e){return e.bgColor}),T=(n(261),function(e){var t=e.isOpen,n=e.setOpen,a=e.task,o=e.deleteTask;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"inner"},r.a.createElement("div",{className:"inner-header"},r.a.createElement("h1",{className:"title"},a.title)),r.a.createElement("div",{className:"inner-body"},r.a.createElement("p",{className:"description"},a.description)),r.a.createElement("div",{className:"inner-footer",style:{display:"flex",justifyContent:"space-around",alignItems:"center"}},r.a.createElement("button",{onClick:function(){return o(a.id)},className:"modal-button"},"delete"),r.a.createElement("button",{onClick:function(){return n(!t)},className:"modal-button"},"close")))):null)}),D="http://project.test";function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var H=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,task:{},data:[],title:"",description:"",columns:{},columnOrder:["start","doing","done"]},n.fetchData=Object(d.a)(l.a.mark(function e(){var t,a,r,o,i,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/wp-json/aris/v1/data"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r=a.filter(function(e){return"start"===e.category}),o=a.filter(function(e){return"doing"===e.category}),i=a.filter(function(e){return"done"===e.category}),s={start:{id:"start",title:"To do",bgColor:"#FF5964",taskIds:r.map(function(e){return e.id})},doing:{id:"doing",title:"Doing",bgColor:"#80b5ea",taskIds:o.map(function(e){return e.id})},done:{id:"done",title:"Done",bgColor:"#6BF178",taskIds:i.map(function(e){return e.id})}},n.setState({data:a,columns:s,start:r});case 11:case"end":return e.stop()}},e)})),n.handleChange=function(e,t){n.setState(Object(s.a)({},e,t.target.value))},n.onDragEnd=function(e){var t=e.source,a=e.destination,r=e.draggableId;if(a&&(a.droppableId!==t.droppableId||a.index!==t.index)){var o=n.state.columns[t.droppableId],i=n.state.columns[a.droppableId];if(o===i){var c=Array.from(o.taskIds);c.splice(t.index,1),c.splice(a.index,0,r);var l=S({},o,{taskIds:c}),d=S({},n.state,{columns:S({},n.state.columns,Object(s.a)({},l.id,l))});n.setState(d)}else{var u,p=Array.from(o.taskIds);p.splice(t.index,1);var m=S({},o,{taskIds:p}),f=Array.from(i.taskIds);f.splice(a.index,0,r);var h=S({},i,{taskIds:f}),g=S({},n.state,{columns:S({},n.state.columns,(u={},Object(s.a)(u,m.id,m),Object(s.a)(u,h.id,h),u))});n.setState(g);var b={postId:r,category:a.droppableId};fetch("".concat(D,"/wp-json/aris/v1/move_task"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(b)}).then(function(e){return e.json()}).then(function(e){console.log(e)})}}},n.addTask=Object(d.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.state.title){e.next=4;break}return e.abrupt("return");case 4:return t={title:n.state.title,description:n.state.description},e.next=7,fetch("".concat(D,"/wp-json/aris/v1/task"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){n.setState({title:"",description:""}),n.fetchData()});case 7:case"end":return e.stop()}},e)})),n.deleteTask=function(){var e=Object(d.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={postId:t},e.next=3,fetch("".concat(D,"/wp-json/aris/v1/deleteTask"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){n.setState({open:!n.state.open}),n.fetchData()});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.setOpen=function(){n.setState({open:!n.state.open})},n.setTask=function(e,t,a){n.setState({task:{id:e,title:t,description:a}})},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return 0===this.state.data.length?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"}},r.a.createElement("div",{className:"input-box",style:{padding:30}},r.a.createElement("input",{value:this.state.title,style:{width:120,height:40,borderRadius:5,marginRight:10,textAlign:"center"},onChange:function(t){return e.handleChange("title",t)},placeholder:"Title",type:"text"}),r.a.createElement("input",{value:this.state.description,style:{width:240,height:40,borderRadius:5,marginRight:10,textAlign:"center"},onChange:function(t){return e.handleChange("description",t)},placeholder:"Description",type:"text"}),r.a.createElement("button",{onClick:function(){return e.addTask()},style:{boxShadow:"inset 0px 1px 3px 0px #91b8b3",backgroundColor:"#768d87",borderRadius:5,border:"1px solid #566963",cursor:"pointer",textDecoration:"none",textShadow:"0px -1px 0px #2b665e",color:"#fff",height:40,lineHeight:0}},"add task"))):r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"}},r.a.createElement("div",{className:"input-box",style:{padding:30}},r.a.createElement("input",{value:this.state.title,style:{width:120,height:40,borderRadius:5,marginRight:10,textAlign:"center"},onChange:function(t){return e.handleChange("title",t)},placeholder:"Title",type:"text"}),r.a.createElement("input",{value:this.state.description,style:{width:240,height:40,borderRadius:5,marginRight:10,textAlign:"center"},onChange:function(t){return e.handleChange("description",t)},placeholder:"Description",type:"text"}),r.a.createElement("button",{onClick:function(){return e.addTask()},style:{boxShadow:"inset 0px 1px 3px 0px #91b8b3",backgroundColor:"#768d87",borderRadius:5,border:"1px solid #566963",cursor:"pointer",textDecoration:"none",textShadow:"0px -1px 0px #2b665e",color:"#fff",height:40,lineHeight:0}},"add task")),r.a.createElement("div",{className:"boards"},this.state.open?r.a.createElement(T,{deleteTask:this.deleteTask,task:this.state.task,isOpen:this.state.open,setOpen:this.setOpen}):null,r.a.createElement(g.a,{onDragEnd:this.onDragEnd},this.state.columnOrder.map(function(t){var n=e.state.columns[t],a=e.state.data.reduce(function(e,t){return e[t.id]=t,e},{}),o=n.taskIds.map(function(e){return a[e]});return r.a.createElement(N,{key:n.id,column:n.id,bgColor:n.bgColor,title:n.title,setOpen:e.setOpen,setTask:e.setTask,tasks:o})}))))}}]),t}(r.a.Component);i.a.render(r.a.createElement(H,null),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.344299b2.chunk.js.map